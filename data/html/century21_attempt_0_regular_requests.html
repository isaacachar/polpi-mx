<!doctype html>
<html lang="es">
	<head>
								
		<!-- /* colors*/ -->
								
														
				
										
				
		
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="author" content="CENTURY 21 Comercial">
		
		<title>Búsqueda</title>
		<meta name="title" content="Búsqueda">
		<meta name="description" content="Entrá a Century 21 Comercial para encontrar propiedades en venta y alquiler. Nosotros te podemos ayudar a comprar o vender tu propiedad.">
		<meta name="keywords" content="bienes raíces, corredores inmobiliarios, Century 21 Comercial, casas, casas en venta, en venta, asesor de ventas, exclusivas, búsqueda de casas, vender casa, comprar casa, tips para comprar casa, departamentos, monoambientes, alquileres, alquiler de departamento, inmobiliarias, negocios inmobiliarios, propiedades, la plata, palermo, belgrano, nordelta, caballito, bariloche, villa la angostura, vicente lopez, recoleta, capital federal">
			
		 		<link rel="canonical" href="https://century21mexico.com/resultados?estado=ciudad-de-mexico&amp;operacion=venta&amp;tipo=casa">
		<link rel="icon" type="image/png" href="/img/c21mx/favicon-32x32.png" sizes="32x32">

			
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">		 
<script src="https://kit.fontawesome.com/faf1913911.js" crossorigin="anonymous"></script>
 		
		<style type="text/css">
			
			.oGrayBG{
				background-color: #3c3a3c!important;
			}
			.lGrayBG{
				background-color: #E6E7E8!important;
			}
			.mGrayBG{
				background-color: #808285!important;
			}
			.rGoldBG{
				background-color: #BEAF87!important;
			}
			.oGray{
				color: #3c3a3c!important;
			}
			.lGray{
				color: #E6E7E8!important;
			}
			.mGray{
				color: #808285!important;
			}
			.rGold{
				color: #BEAF87!important;
			}
			.gray{
				color: #bcbcbc!important;
			}
			.white{
				color: #fff!important;
			}
			.black{
				color: #000!important;
			}
			
			/*END colors*/
		
			/* sticky footer style */
						html {
				position: relative;
				min-height: 100%;
			}
			
			body {
				/* Margin bottom by footer height */
				margin-bottom: 560px;
				font-family: typoldReg, sans-serif;
			}
			.footer {
				font-size:.8em;
				background-color: #3c3a3c;
				color: #BEAF87;
				position: absolute;
				bottom: 0;
				width: 100%;
				/* Set the fixed height of the footer here */
				height: 560px;
				
			}
			.footer .container-fluid{
				padding-top: 30px;
				background-color: #3c3a3c;
				background-image: url('/img/c21mx/selloHalfTopRGold.svg');
				background-repeat: no-repeat;
				background-attachment: inherit;
				background-position: 93% 0%;
				background-size: 100px; 
			}
			.footer a{
				color: #BEAF87;
			}
			.footer .barraDorada{
				background-color: #BEAF87;
				color: #3c3a3c;
				padding:10px 0px;
			}
			.footer .barraDorada a{
				color: #3c3a3c;
			}
			.footer .buscarPropiedades{
				padding: 30px 0px;
			}
			.footer .avisoPrivacidad{
				font-size:.7em;
				padding: 0px 0px 30px 0px;
			}
			.footer .avisoPrivacidad a{
				color: #BEAF87;
			}
			/* END sticky footer style */
			
			/* barra dorada*/
			.content {
				padding-top: 110px; /* height of header + navbar*/
			}
			.minPadding{
				padding-top: 30px;
			}
			@media (max-width: 768px) {
				.minPadding{
					padding-top: 30px!important;
				}
			}
			
			.navbar {
				top: 35px;
			} 
			
			.pagewide {
				height: 35px;
				background-color: #bcb08a;
				font-size: 12px;
			}
			.pagewide a{
				color:#000;
				letter-spacing: 2px;
			}
			/*END barra dorada*/
			
			/* searchBox*/
			.searchBox{
				
			}
			.searchBox .selects{
				/*background-color: #fff;*/
			}
			.searchBox .selects, .searchBox .inputs{
				border-right:1px solid #bcb08a;
				border-bottom:1px solid #bcb08a;
			}
			.searchBox .selects{
				height: 40px;
			}
			.searchBox select{
				border: none;
				padding:8px;
				height: 40px;
				width: 100%;
			}
			.searchBox input{
				border: none;
				padding: 10px;
				width: 100%;
				height: 40px;
			}
			.searchBox button{
				height: 40px;
				width: 100%;
				background-color: #bcb08a;
				border:none;
			}
			@media (min-width: 768px) {
				.searchBox .selects, .searchBox .inputs{
					border-bottom:none;
				}
 				.searchBox .inputs{
 					border-right:none;
 				}
		
 				.searchBox .searchButton{
 					text-align:right;
 				}
 			}
 			@media (max-width: 768px) {
 				.navbar{
 					background-color: #3c3a3c;
 				}
 				.content {
 					padding-top: 140px; /* height of header + navbar*/
 				}
 			}
	
 			#results{
 				background-color: #3c3a3ccc;
 				color: #BEAF87;
 				max-height: 455px;
 				min-height: 60px;
 				overflow-y: auto;
 				overflow-x: hidden;
 				width: 100%;
 				z-index: 500;
 				position: absolute;
 				padding: 9px 20px;
 				font-size:14px;
 			}
 			#results>ul{
 				list-style-type:none;
 				padding:0;
 			}
 			#results>ul>li>div{
 				padding:2px 0px 2px 10px;
 				overflow:hidden;
 				width:700px;
 				height: 25px;
 			}
			
 			#results>ul>li a{
 				text-decoration: none;
 				color:inherit;
 				font-weight:400;
 			}#}
 			#results>ul>li a:HOVER{
 				color:black;
 			}
 			#results>ul>li{
 				color: #BEAF87;
 				border-top: 1px solid #BEAF87cc;
 			}
 			#results>ul>li:HOVER{
 				background-color:#BEAF87;
 				color:#000;
 			}
 			#results>ul>li span{
 				color:#fff;
 			}
 			#closeSearch{
 				float: right;
 				font-size: 14px;
 				color: #BEAF87;
				z-index: 501;
 				top: -4px;
 			}
 			#closeSearch:hover{
 				cursor:pointer;
 				color: #E6E7E8;
 			}
			
			
			
			
 			.no-gutters {
 				margin-right: 0;
 				margin-left: 0;
	
 			  > .col,
 			  > [class*="col-"] {
 				padding-right: 0;
 				padding-left: 0;
 			  }
 			}
 			/*END searchBox*/
	
 			/* reset color links*/
 			a{
 				color:#000;
 			}
 			a:hover{
 				color:#BEAF87;
 			}
 			/*END reset color links*/
		
 			/* fonts*/
			
 			@font-face {
 				font-family: "typoldReg";
 				src: url("/fonts/Typold-Condensed-Regular.woff") format('woff');
 			}
 			.typoldReg{
 				font-family: typoldReg, sans-serif;
 			}
 			@font-face {
 				font-family: "barlowReg";
 				src: url("/fonts/BarlowSemiCondensed-Regular.woff") format('woff');
 			}
 			.barlowReg{
 				font-family: barlowReg, sans-serif;
 			}
 			@font-face {
 				font-family: "oakesReg";
 				src: url("/fonts/Oakes-Regular.woff") format('woff');
 			}
 			.oakesReg{
 				font-family: oakesReg, sans-serif;
 			}
			
			
 			/*END fonts*/
	
 			#map-static{ 
 				width: 100%;
 				height: 300px;
 				overflow: hidden;
 				position: relative;
 				cursor: pointer;
 				display: block;
 			}
 			#map-static .img-static-map {
 				min-height: 100%;
 				max-width: 100%;
 				min-width: 100%;
 				position: absolute;
 				cursor: pointer;
 				margin-top: 0;
 				top: 50%;
 				left: 50%;
 				transform: translate(-50%,-50%);
 			}
 		</style>
		
<style>
	div {font-family: 'Raleway','Open Sans', sans-serif;}
	.title{
		background-color: black;
	}
	@media (min-width: 768px) {
		
	}
.thumbLink{
	position:absolute; 
	width:100%;
	height:100%;
	top:0;
	left: 0;
	z-index: 1;
	background-image: url('/img/empty.png');
}


#results2{
	background-color: rgba(0, 0, 0, 0.8);
	max-height: 455px;
	min-height: 60px;
	overflow-y: auto;
	overflow-x: hidden;
	width: 100%;
	z-index: 500;
	position: absolute;
	padding: 9px 20px;
	font-family: 'Raleway', sans-serif;
}
#results2>ul{
	list-style-type:none;
	padding:0;
}
#results>ul>li>div{
	padding:2px 0px 2px 10px;
	overflow:hidden;
	width:700px;
	height: 25px;
}

#results2>ul>li a{
	text-decoration: none;
	color:inherit;
	font-weight:400;
}
#results2>ul>li a:HOVER{
	color:black;
}
#results2>ul>li{
	color:#F3B90F;
	border-top: 1px solid rgba(243, 185, 15, 0.3);
}
#results2>ul>li:HOVER{
	background-color:#F3B90F;
	color:black;
}
#results2>ul>li span{
	color:#fff;
}
</style>

	</head>

	<body>

		<header>
			<div class="pagewide p-2 d-lg-block fixed-top">
				<div class="container-fluid">
					<div class="row">
						<div class="col-sm-3">
						</div>
					</div>
				</div>
			</div>
			<nav class="navbar navbar-expand-md navbar-light fixed-top lGrayBG">
				<a class="navbar-brand" href="/" style='height:60px;width:156px; '><img height="55px" width="auto" src='/img/c21com/LOGO_DORADO.png'></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarCollapse">
							<ul class="navbar-nav mr-auto">
			<li class="nav-item">
					</ul>				</div>
				
				<div class="searchBox col-12 col-md-5 col-lg-7 p-0">
					<div class="row contenedor no-gutters">
						<div class="col-12">
							<div class='row no-gutters inputs'>
								<div class="col-8 localidadBarrio">
									<input id="search" name="search" placeholder="Ingrese localidad o barrio" aria-label="Ingrese localidad o barrio">
									<input id="hiddenSearch" style="display:none;">
								</div>
								<div class="col-4 searchButton">
									<button id="searchButton">Buscar</button>
								</div>
							</div>
						</div>
						<div class="col-12 results" style="display:none;">
							<div id="results">
								<i id="closeSearch" class="fas fa-times-circle"></i>
								<ul id="ubicaciones" style="clear:both;"></ul>
								<ul id="oficinas"></ul>
								<ul id="asesores"></ul>
								<ul id="clave"></ul>
							</div>
						</div>
					</div>
				</div>
			</nav>
		</header>
							<div class='' style="margin-top:60px">
	
	<div class='col-xs-12 resultadosJuan' style='display:none;'>
		<div id='results2' style="position: static;">
			<ul id='info' style='clear:both;'><li>Resultados de la búsqueda: "<span style='color:white;'>Resultados</span>"</li></ul>
			<ul id='ubicaciones2' style='clear:both;'></ul>
			<ul id='oficinas2'></ul>
			<ul id='asesores2'></ul>
			<ul id='clave2'></ul>
		</div>
	</div>
	
		
		<div class="hidden-xs col-sm-3 col-md-3 col-lg-3 classFiltros"  style="display:none;">
			<div class=' panel panel-default  '>
				<div class='panel-heading' style="background-color: black; color:white;">
					<div class='text-center'>Filtros Aplicados</div>
				</div>
				<div class='panel-body filtrosAplicados'>
				</div>
			</div>
			<div class=' panel panel-default filtroEstados ' >
				<div class='panel-heading' style="background-color: rgba(245, 245, 245, 0); border-bottom: 0px solid transparent;">
					<strong>Estados</strong>
				</div>
				<div id="filtroEdo" class='panel-body' style=' overflow: scroll; overflow-x: hidden;'>
					
				</div>
			</div>
			<div class=' panel panel-default filtroMunicipios ' >
				<div class='panel-heading' style="background-color: rgba(245, 245, 245, 0); border-bottom: 0px solid transparent;">
					<strong>Municipios</strong>
				</div>
				<div id="filtroMun" class='panel-body' style='max-height: 300px; overflow: scroll; overflow-x: hidden;'>
					
				</div>
			</div>
			<div class=' panel panel-default filtroColonias' >
				<div class='panel-heading' style="background-color: rgba(245, 245, 245, 0); border-bottom: 0px solid transparent;">
					<strong>Colonias</strong>
				</div>
				<div id="filtroCol" class='panel-body' style='max-height: 300px; overflow: scroll; overflow-x: hidden;'>
					
				</div>
			</div>
		</div>
		<div class='col-xs-12 col-sm-9 col-md-9 col-lg-9 resultadosIrak' style="margin-top: 20px; display:none;">
			<div class=' panel panel-default ' style="border: 0px;">
				<div class='panel-heading' style="background-color: black; color:white;">
					<div>Resultados<span id="conteo"></span></div>
				</div>
				<div id='inmueble' class='panel-body ' style="display:none;">
				</div>
				<div id='franquicia' class='panel-body ' style="display:none;">
				</div>
				<div id='asesor' class='panel-body ' style="display:none;">
				</div>
				<div id='link' class='panel-body ' style="display:none;">
					<!-- <div class="col-sm-6 col-md-4">
						<a href="#" class="btn btn-default btn-lg active" role="button" style="border-radius: 0px;">Link</a>
					</div> -->
				</div>
			</div>
		</div>
	</div>


		
				<footer class="footer">
			<div class="container-fluid">
					
							<!-- div class='row p-3'>
					<div class='col-sm-3'>
						NOSOTROS<br>
						<br>
						<a href="/es_mx/mision">Misión, Visión y Valores</a><br>
						<br>
						CENTURY 21 Comercial<br>
						
					</div>
					<div class='col-sm-3'>
						EXPLORA<br>
						<br>
						<a href="/licencias">Licencias</a><br>
						<a href="/es_mx/acercade">Acerca de C21 Comercial</a><br>
						<a href="http://century21global.com">Búsqueda Internacional</a><br>
						<a href="/es_mx/directorio">Directorio de Oficinas</a><br>
						<a href="/inmuebles-en-venta">Propiedades en Venta</a><br>
						<a href="/inmuebles-en-renta">Propiedades en Renta</a><br>
					</div>
					<div class='col-sm-3'>
						CONTÁCTANOS<br>
						<br>
						<a href="/es_mx/contactanos">Contáctanos</a><br>
						<a href="/licencias">Solicitud de Licencia</a><br>
						<a href="/es_mx/unete">Reclutamiento</a><br>
						<a href="/es_mx/ofrezco-propiedad">Confíanos tu propiedad</a><br>
						<a href="/es_mx/enviar-comentario">Envíanos un comentario</a><br>
						<a href="/es_mx/reportar-anomalia">Reportar Anomalía</a><br>
						
					</div>
				</div-->
				<!-- div class='row buscarPropiedades p-3'>
					<div class='col-10'>
						BUSCAR PROPIEDADES EN:<br>
						<br>
						
						
					</div>
				</div-->
				<div class='row buscarPropiedades p-3'>
					<div class='col-10'>
						<a href="/es_mx/avisodeprivacidad">AVISO DE PRIVACIDAD - CENTURY 21 Comercial</a><br>
						<br>
						Cada Oficina es de Propiedad y Operación Independiente. | ® la marca y el logotipo CENTURY 21 
						son propiedad de CENTURY 21 Real Estate Corporation, LLC. | Diseño: CENTURY 21 Comercial, S.A. de C.V., Dirección de Mercadotecnia. | CENTURY 21 Comercial, no es responsable por la exactitud o complementos de la información
						de los Afiliados, de los asesores y de las propiedades y de otra información provista por los franquiciatarios en este sitio. | La información puede cambiar sin previo aviso. | La opinión de algunos artículos es responsabilidad de sus
						autores y han sido publicados solo para fines informativos y no expresa el punto de vista de CENTURY 21 Comercial, S.A. de C.V.
					</div>
				</div>
				<!-- div class='row barraDorada p-3'>
					<div class='col-12 col-sm-8'>
						<a href="tel:(54) 11 5272 6351">LÍNEA DE SOPORTE (54) 11 5272 6351</a>
					</div>
					<div class='col-12 col-sm-4 text-center mt-4 mt-sm-auto'>
						<a href="http://www.facebook.com/century21arg" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
						&nbsp;
						<a href="http://twitter.com/century21arg"><i class="fab fa-twitter"></i></a>
						&nbsp;
						<a href="https://www.instagram.com/century21arg" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
						&nbsp;
						<a href="https://www.linkedin.com/company/century21-argentina" aria-label="Linked In"><i class="fab fa-linkedin-in"></i></a>
					</div>
				</div-->
			</div>
		</footer>				<!-- linkedin -->
		<script type="text/javascript"> _linkedin_partner_id = "491466"; window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || []; window._linkedin_data_partner_ids.push(_linkedin_partner_id); </script><script type="text/javascript"> (function(){var s = document.getElementsByTagName("script")[0]; var b = document.createElement("script"); b.type = "text/javascript";b.async = true; b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js"; s.parentNode.insertBefore(b, s);})(); </script> <noscript> <img height="1" width="1" style="display:none;" alt="" src="https://dc.ads.linkedin.com/collect/?pid=491466&fmt=gif" /> </noscript>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>		
		
		
		<script type="text/javascript">
		var elemento=0;
var elementoTotal=0;
var elementoHref='';
var sinMouseOver=true;

(function($){
			// Instructions: http://phrogz.net/jquery-bind-delayed-get
			// Copyright:	Gavin Kistner, !@phrogz.net
			// License:		http://phrogz.net/js/_ReuseLicense.txt
			$.fn.bindDelayed = function(event,delay,callback,dataType,action){

			var xhr, timer, ct=0;
			return this.on(event,function(e){
				clearTimeout(timer);
				if (xhr) xhr.abort();
				timer = setTimeout(function(){
					var id = ++ct;
					var tipoPropiedad=$('#tipoPropiedad').val();
					var tipoOperacion=$('#tipoOperacion').val();
					var uso =$('#tipoPropiedad').find(':selected').data('uso');
					var url= '/search/'+tipoPropiedad+'_'+uso+'/'+tipoOperacion;
					
					
					var data= $('#search').val().trim().replace(new RegExp(',', 'g'), '').replace(new RegExp('	 ', 'g'), ' ').replace(new RegExp('	', 'g'), ' ');
					
					//27=ESC   38=Up   40=Down   13=Enter
					if(data!='' && e.keyCode !== 27 && e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 13){
						elemento=0;
						elementoTotal=0;
						elementoHref='';
						
						$("#searchButton").attr('data-href', '');
						$("#searchButton").html('Buscando');
						$("#searchButton").prop('disabled', true);
						
						xhr = 	$.ajax({
									type:action||'get',
									url:url+"/"+data+'',
									//data:dataCallback && dataCallback(),
									dataType:dataType||'json',
									success:function(data){
										xhr = null;
										if (id==ct) callback.call(this,data);
									}
								});
					}
				},delay);
			});
			};
		})(jQuery);
	
	var hayResultados=false;
	var items=[];
	function renderItems(){
		hayResultados=true;
		if($('#search').val()!==''){
			$('#hiddenSearch').val('');
			$('#oficinas').html("");
			$('#ubicaciones').html("");
			$('#asesores').html("");
			$('#clave').html("");
			$( "#search" ).removeClass( "ui-autocomplete-loading" );
			$('.results,.searchclose').show();
			if(items.ubicaciones==0 && items.claves==0 && items.afiliados==0 && items.asesores==0){
				$('#ubicaciones').append( "<li class='noResults'><div><a href='/busqueda/por_="+$("#search").val() +"'><div><span>Buscar:</span> "+$("#search").val()+"</div></a></div></li>" );
			}else{
				var colonias={};
				var municipios={};
				var estados={};
				$.each( items.ubicaciones, function( index, item ) {
					var estado = '/en-estado_'+item.estadoWebFinal;
					var municipio = '/en-municipio_'+item.municipioWebFinal;
					var colonia = '/en-colonia_'+item.coloniaWebFinal;
					var urlEstado = items.url+estado;
					var urlMunicipio =items.url+estado+municipio;
					var urlColonia =items.url+estado+municipio+colonia;
					
					if( item.estadoSearch.indexOf(items.busqueda) != -1 ){
						estados[item.estado]={'estado':item.estado, 'url':urlEstado,'peso':item.w};
					}
					if( ($('#search').val().match(new RegExp(" ", "g")) || []).length <= ((item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
						if( item.municipioSearch.replace(new RegExp('\\.', 'g'), '')+ ' '+item.estadoSearch.indexOf(items.busqueda) != -1 ){
							municipios[item.municipio+item.estado]={'municipio':item.municipio,'estado':item.estado, 'url':urlMunicipio,'peso':item.w};
						}
					}
					
					if( ($('#search').val().match(new RegExp(" ", "g")) || []).length <= ((item.colonia+' '+item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
						if(item.colonia!=null){
							colonias[item.colonia+item.municipio+item.estado]={'colonia':item.colonia,'municipio':item.municipio,'estado':item.estado, 'url':urlColonia,'peso':item.w};
						}
					}
				});
				$.each( estados, function( index, item ) {
					$('#ubicaciones').append( "<li><a href='"+item.url +"'><div><span>" + item.estado + "</span></div></a></li>");
				});
				$.each( municipios, function( index, item ) {
					$('#ubicaciones').append( "<li><a href='"+item.url +"'><div><span>" + item.municipio + ",</span> " + item.estado + "</div></a></li>");
				});
				$.each( colonias, function( index, item ) {
					$('#ubicaciones').append( "<li><a href='"+item.url +"'><div><span>" + item.colonia + ",</span> " + item.municipio + ", " + item.estado + "</div></a></li>");
				});
				
				$.each( items.claves, function( index, item ) {
					if(item.subtipoPropiedad!= undefined){
						$('#clave').append( "<li><div><a href='"+item.url +"'><div><span>" + item.subtipoPropiedad + ' en ' + item.tipoOperacion + ' - ' + item.colonia + item.municipio + " -</span> " + item.value + "</div></a></div></li>" );
					}else{
						$('#clave').append( "<li><div><a href='"+item.url +"'><div><span>" + item.id +	"</span> "+ item.value + "</div></a></div></li>" );
					}
				});
				//esto agrega los municipios y colonias de panic
				/*
				$.each( municipios, function( index, item ) {
					$('#ubicaciones').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.municipio + "</span>, " + item.estado + "</div></a></div></li>");
				});
				$.each( colonias, function( index, item ) {
					$('#ubicaciones').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.colonia + "</span>, " + item.municipio + ", " + item.estado + "</div></a></div></li>");
				});
				*/
				
				$.each( items.afiliados, function( index, item ) {
					$('#oficinas').append( "<li><div><a href='"+item.url +"'><div><span>" + item.value + "</span> (" + item.municipio + item.estado + ")</div></a></div></li>" );
				});
				$.each( items.asesores, function( index, item ) {
					$('#asesores').append( "<li><div><a href='"+item.url +"'><div><span>" + item.value + "</span> " + item.oficina + "</div></a></div></li>" );
				});
				
				//total de resultados
				elementoTotal=$('#ubicaciones').find("li").length + $('#oficinas').find("li").length + $('#asesores').find("li").length + $('#clave').find("li").length;
			
				$('.results').mouseover(function( ) {
					$(this).find('li').removeClass('resultsUlLiHover');
					sinMouseOver=false;
				});
				$('.results').mouseout(function( ) {
					sinMouseOver=true;
				});
				
				$( ".results a" ).click(function( event ) {
					event.preventDefault();
					$( "#hiddenSearch" ).val($(this).attr('href'));
					$( "#search" ).val($(this).text());
					$( "#searchButton" ).attr('data-href', $(this).attr('href'));
					window.location.href =$(this).attr('href');
				});
			}
			
		}else{
			$( "#search" ).removeClass( "ui-autocomplete-loading" );
			$('.results,.searchclose').hide();
			return;
		}
	}
		
	function activateSearch(){
		$( ".searchclose" ).click(function() {
			$( ".results,.searchclose" ).hide();
			$("#search").val('');
			$("#hiddenSearch").val('');
		});
		
		$( "#searchButton" ).click(function() {

			if($("#search").val()==''){
				$("#search").attr("placeholder", "Escribe aqu\xED la direcci\xF3n, oficina o asesor que desees buscar");
			}else{
				window.open("https://century21mexico.com/busqueda/por_"+$('#search').val(), '_self');
				
				
				
				
					
					
			}
		});
		
		$('#search').bindDelayed('keyup',250,function(losItems){
			$("#searchButton").html('Buscar');
			$("#searchButton").prop('disabled', false);
			if($("#search").val()!=''){
				$("#searchButton").attr('title', 'Buscar resultados relacionados con "'+$("#search").val()+'"');
			}
			items=losItems;
			renderItems();
		},'json','get');
		
		$('#search').keyup(function(e) {
			if ($('.results').is(':visible') && sinMouseOver==true && (e.keyCode==13 || e.keyCode==38 || e.keyCode==40)){
				if (e.keyCode==13){//enter
					//hace la funcion click de los resultados
					$("a[href='"+elementoHref+"']").click(); 
				}else{
					if (e.keyCode==38){//decremento
						elemento-=1;
					}else{//incremento
						elemento+=1;
					}
					
					if (elemento<1){
						elemento=elementoTotal;
					}
					if (elemento>elementoTotal){
						elemento=1;
					}
					
					var elementoGrupo='';
					if (elemento<=$('#ubicaciones').find("li").length){
						elementoGrupo='#ubicaciones';
						elementoAux=elemento;
						
					}else if (elemento<=$('#ubicaciones').find("li").length + $('#oficinas').find("li").length){
						elementoGrupo='#oficinas';
						elementoAux=elemento-$('#ubicaciones').find("li").length;
						
					}else if (elemento<=$('#ubicaciones').find("li").length + $('#oficinas').find("li").length + $('#asesores').find("li").length){
						elementoGrupo='#asesores';
						elementoAux=elemento-$('#ubicaciones').find("li").length + $('#oficinas').find("li").length;
						
					}else if (elemento<=$('#ubicaciones').find("li").length + $('#oficinas').find("li").length + $('#asesores').find("li").length + $('#clave').find("li").length){
						elementoGrupo='#clave';
						elementoAux=elemento-$('#ubicaciones').find("li").length + $('#oficinas').find("li").length + $('#asesores').find("li").length;
					}
					
					elementoHref='';
					$('.results').find('li').removeClass('resultsUlLiHover');
					$.each( $(elementoGrupo).find('li'), function( index, item ) {
						if (elementoAux-1==index){
							$(this).addClass('resultsUlLiHover');
							elementoHref=$(this).find('a').attr('href');
						}
					});
				}
			}
		});
	}

	$(document).ready(function() {
		activateSearch();
		$( "#tipoPropiedad, #tipoOperacion" ).change(function() {
			//renderItems();
			//trigger de la busqueda
			$('.results').hide();
			var e = jQuery.Event("keyup");
			e.which = 16;
			$("#search").trigger(e);
			
		});
		$( "#closeSearch" ).click(function() {
			$('.results').hide();
		});
		$( "#search" ).focus(function() {
			$(this).select();
			if(hayResultados){
				$('.results').show();
			}
		});
		$('html').click(function(e) {
			//$('.results').hide();
			var container = $('.searchBox');
			if (!container.is(e.target) // if the target of the click isn't the container...
				&& container.has(e.target).length === 0) // ... nor a descendant of the container
			{
				$('.results').hide();
			}
		});
		$(document).keyup(function(e) {
			if (e.keyCode === 27){//esc
				$('.results').hide();
			}
		});
	});
			
		$(document).ready(function() {
			
			
		});
		</script>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121260690-1"></script>
		<script>
			 window.dataLayer = window.dataLayer || [];
			 function gtag(){dataLayer.push(arguments);}
			 gtag('js', new Date());
			
			 gtag('config', 'UA-121260690-1');
		</script>
		
		<script>
			//mapa
			function myNavFunc(lat, lon){
				if( (navigator.platform.indexOf("iPhone") != -1) 
					|| (navigator.platform.indexOf("iPod") != -1)
					|| (navigator.platform.indexOf("iPad") != -1))
					window.open("maps://maps.google.com/maps?daddr="+lat+","+lon+"&amp;ll=");
				else
					window.open("http://maps.google.com/maps?daddr="+lat+","+lon+"&amp;ll=");
			}
		</script>
		
<script type="text/javascript" src="/js/lazyload/jquery.lazyload.js"></script>
<script src="/js/jQuery-File-Upload-9.10.1/js/tmpl.min.js"></script>
<script src="/js/accounting.js/accounting.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="/js/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script>
	var estado=new Object(), municipio=new Object(), colonia=new Object();
	var num_inmueble=0, num_franquicia=0, num_asesor=0, num_link=0, num_res=0;
	var temCol = new Array(), temMun = new Array(), temEdo = new Array();
	var q = 'Resultados';
	
	function filtrar(event, tipo, valor){
		var clasesValor = valor.split(' '),
			nofiltrar=0;
		event.preventDefault();
		$(".colonia").each(function(index){// oculta todo
			$(this).parent().parent().parent().parent().hide();
		});
		$(".filtrosAplica").each(function(index){// oculta todo
			var clases1 = $(this).attr('class').split(' ');
			if(clasesValor.length==1){
				var clases1 = $(this).attr('class').split(' ');
				if(clasesValor[0]==clases1[2]){
					var clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
					$(this).attr('class', clases2);
					
					$('.'+clasesValor[0]).each(function(index){
						var clases1 = $(this).attr('class').split(' '),
							clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
						if(clases1[2]==clasesValor[0]){
							$(this).attr('class', clases2);
							nofiltrar=1;
						}
					});
				}
			}
			else if(clasesValor.length==2){
				if(clasesValor[1]==clases1[3]){
					var clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
					$(this).attr('class', clases2);
					
					$('.'+clasesValor[1]).each(function(index){
						var clases1 = $(this).attr('class').split(' '),
							clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
						if(clases1[3]==clasesValor[1]){
							$(this).attr('class', clases2);
							nofiltrar=1;
						}
					});
				}
			}
			else if(clasesValor.length==3){
				if(clasesValor[2]==clases1[4]){
					var clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
					$(this).attr('class', clases2);
					
					$('.'+clasesValor[2]).each(function(index){
						var clases1 = $(this).attr('class').split(' '),
							clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
						if(clases1[4]==clasesValor[2]){
							$(this).attr('class', clases2);
							nofiltrar=1;
						}
					});
				}
			}
		});
		$(".filtrosAplicados").html("");
		$('.filtroEstado').each(function(index){
			var clases1 = $(this).attr('class').split(' ');
			if(clasesValor[0]==clases1[2] && clasesValor.length==1 && !nofiltrar){
				var clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
				
				var classNuevo ='filtrosAplica'
				for(i=1; i<clases2.split(" ").length; i++){
					classNuevo+=(' ' + clases2.split(" ")[i]);
				}
				$(this).attr('class', classNuevo);
				var clon=$(this).parent().parent().clone();
				
				$(this).attr('class', clases2);
				
				var html=$(clon).html();
				$('.filtrosAplicados').append(html);
				
				if(clasesValor.length==1){
					$('.'+clasesValor[0]).each(function(index){
						var clases1 = $(this).attr('class').split(' '),
							clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
						if(clases1[2]==clasesValor[0]){
							$(this).attr('class', clases2);
						}
					});
				}
			}else{
				var clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
				$(this).attr('class', clases2);
			}
		});
		$('.filtroMunicipio').each(function(index){
			var clases1 = $(this).attr('class').split(' ');
			if(clases1[3]==clasesValor[1] && clases1[2]==clasesValor[0] && clasesValor.length==2 && !nofiltrar){
				var clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
				
				var classNuevo ='filtrosAplica'
				for(i=1; i<clases2.split(" ").length; i++){
					classNuevo+=(' ' + clases2.split(" ")[i]);
				}
				$(this).attr('class', classNuevo);
				var clon=$(this).parent().parent().clone();
				
				$(this).attr('class', clases2);
				
				var html=$(clon).html();
				$('.filtrosAplicados').append(html);
				
				if(clasesValor.length==2){
					$('.'+clases1[3]).each(function(index){
						var clases1 = $(this).attr('class').split(' '),
							clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
						if(clases1[2]==clasesValor[0]){
							$(this).attr('class', clases2);
						}
					});
				}
			}else{
				var clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
				$(this).attr('class', clases2);
			}
		});
		$('.filtroColonia').each(function(index){
			var clases1 = $(this).attr('class').split(' '),
				op1 = clases1[4]==clasesValor[2], 
				op2 = clases1[3]==clasesValor[1], 
				op3 = clases1[2]==clasesValor[0];
			if(op1 && op2 && op3 && clasesValor.length==3 && !nofiltrar){
				var clases1 = $(this).attr('class').split(' '),
				clases2 = $(this).attr('class').replace('nofiltra','sifiltra')
				if(clases1[3]==clasesValor[1]){
					var classNuevo ='filtrosAplica'
					for(i=1; i<clases2.split(" ").length; i++){
						classNuevo+=(' ' + clases2.split(" ")[i]);
					}
					$(this).attr('class', classNuevo);
					var clon=$(this).parent().parent().clone();
					
					$(this).attr('class', clases2);
					
					var html=$(clon).html();
					$('.filtrosAplicados').append(html);
				}	
			}else{
				var clases2 = $(this).attr('class').replace('nofiltra','sifiltra');
				$(this).attr('class', clases2);
			}
		});
		if(clasesValor.length==1){
			$(".estado").each(function(index){
				var op1 = clasesValor[0].replace(/_/g, ' ').replace('-', '/')== $(this).text();
				if(op1 || nofiltrar){
					$(this).parent().parent().parent().parent().show();
				}
			});
		}
		if(clasesValor.length==2){
			$(".municipio").each(function(index){
				var op1 = clasesValor[1].replace(/_/g, ' ').replace('-', '/')== $(this).text(), 
					op2 = clasesValor[0].replace(/_/g, ' ').replace('-', '/')==$(this).parent().children('.estado').text();
				if((op1 && op2) || nofiltrar){
					$(this).parent().parent().parent().parent().show();
				}
			});
		}
		if(clasesValor.length==3){
			$(".colonia").each(function(index){
				var op1 = clasesValor[2].replace(/_/g, ' ').replace('-', '/').replace('�','.')== $(this).text(),
					op2 = clasesValor[1].replace(/_/g, ' ').replace('-', '/')== $(this).parent().children('.municipio').text(), 
					op3 = clasesValor[0].replace(/_/g, ' ').replace('-', '/')==$(this).parent().children('.estado').text();
				if((op1 && op2 && op3) || nofiltrar){
					$(this).parent().parent().parent().parent().show();
				}
			});
		}
		$('.sifiltra').parent().parent().show(); //Oculto los filtros aplicados
		$('.nofiltra').parent().parent().hide(); //Oculto los filtros no aplicados
	}
	items=null;
	function renderItems2(){
		hayResultados=true;
			if(items.ubicaciones.length==0 && items.claves.length==0 && items.afiliados.length==0 && items.asesores.length==0){
				$('.resultadosIrak').show();
				
				busquedas(q, 1);
			}else{
				$('.resultadosJuan').show();
				var colonias={};
				var municipios={};
				var estados={};
				$.each( items.ubicaciones, function( index, item ) {
						var estado = '/'+item.estado.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						var municipio = '/'+item.municipio.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						var colonia = '/'+item.colonia.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						items.url='';
						if($('#tipoPropiedad').val()!=undefined){
							items.url= items.url+'/'+$('#tipoPropiedad').val();
						}
						if($('#tipoOperacion').val()!=undefined){
							items.url= items.url+'/'+$('#tipoOperacion').val();
						}
						var urlEstado = items.url+estado;
						var urlMunicipio =items.url+estado+municipio;
						var urlColonia =items.url+estado+municipio+colonia;
						
						var busqueda ="Resultados".trim().replace(new RegExp(',', 'g'), '').replace(new RegExp('\\.', 'g'), '');
						
						if( removeDiacritics(item.estado).toLowerCase().indexOf(removeDiacritics(busqueda).toLowerCase()) != -1 ){
							estados[item.estado]={'estado':item.estado, 'url':urlEstado,'peso':item.w};
						}
						if( ("Resultados".match(new RegExp(" ", "g")) || []).length <= ((item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
							if( removeDiacritics(item.municipio.replace(new RegExp('\\.', 'g'), '')+ ' '+item.estado).toLowerCase().indexOf(removeDiacritics(busqueda).toLowerCase()) != -1 ){
								municipios[item.municipio+item.estado]={'municipio':item.municipio,'estado':item.estado, 'url':urlMunicipio,'peso':item.w};
							}
						}
						
						if( ("Resultados".match(new RegExp(" ", "g")) || []).length <= ((item.colonia+' '+item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
							colonias[item.colonia+item.municipio+item.estado]={'colonia':item.colonia,'municipio':item.municipio,'estado':item.estado, 'url':urlColonia,'peso':item.w};
						}
				});
				$.each( estados, function( index, item ) {
					$('#ubicaciones2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.estado + "</span></div></a></div></li>");
				});
				$.each( municipios, function( index, item ) {
					$('#ubicaciones2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.municipio + "</span>, " + item.estado + "</div></a></div></li>");
				});
				$.each( colonias, function( index, item ) {
					$('#ubicaciones2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.colonia + "</span>, " + item.municipio + ", " + item.estado + "</div></a></div></li>");
				});
				
				$.each( items.claves, function( index, item ) {
					if(item.subtipoPropiedad!= undefined){
						var estado = '/'+item.estado.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						var municipio = '/'+item.municipio.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						var colonia = '/'+item.colonia.replace(new RegExp(' ', 'g'), "-").replace(new RegExp('/', 'g'), "---");
						items.url='';
						if($('#tipoPropiedad').val()!=undefined){
							items.url= items.url+'/'+$('#tipoPropiedad').val();
						}
						if($('#tipoOperacion').val()!=undefined){
							items.url= items.url+'/'+$('#tipoOperacion').val();
						}
						var urlMunicipio =items.url+estado+municipio;
						var urlColonia =items.url+estado+municipio+colonia;
						
						var busqueda =$('#search').val().trim().replace(new RegExp(',', 'g'), '').replace(new RegExp('\\.', 'g'), '');
						
						if( ($('#search').val().match(new RegExp(" ", "g")) || []).length <= ((item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
							if( removeDiacritics(item.municipio.replace(new RegExp('\\.', 'g'), '')+ ' '+item.estado).toLowerCase().indexOf(removeDiacritics(busqueda).toLowerCase()) != -1 ){
								if(municipios[item.municipio+item.estado]==undefined){
									municipios[item.municipio+item.estado]={'municipio':item.municipio,'estado':item.estado, 'url':urlMunicipio,'peso':item.w};
								}
							}
						}
						
						if( ($('#search').val().match(new RegExp(" ", "g")) || []).length <= ((item.colonia+' '+item.municipio+' '+item.estado).match(new RegExp(" ", "g")) || []).length){
							if(colonias[item.colonia+item.municipio+item.estado]==undefined){
								colonias[item.colonia+item.municipio+item.estado]={'colonia':item.colonia,'municipio':item.municipio,'estado':item.estado, 'url':urlColonia,'peso':item.w};
							}
						}
						
						
						$('#clave2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.subtipoPropiedad + ' en ' + item.tipoOperacion + ' - ' + item.colonia + ', ' + item.municipio +  " -</span> " + item.value + "</div></a></div></li>" );
					}else{
						$('#clave2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.id +  "</span> "+ item.value + "</div></a></div></li>" );
					}
				});
				//esto agrega los municipios y colonias de panic
			//	/*
				var contador=0;
				$.each( municipios, function( index, item ) {
					contador++;
					if(contador<3){
						$('#ubicaciones2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.municipio + "</span>, " + item.estado + "</div></a></div></li>");
					}
				});
				contador=0;
				$.each( colonias, function( index, item ) {
					contador++;
					if(contador<4){
						$('#ubicaciones2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.colonia + "</span>, " + item.municipio + ", " + item.estado + "</div></a></div></li>");
					}
				});
			//	*/
				
				$.each( items.afiliados, function( index, item ) {
					$('#oficinas2').append( "<li class='' ><div><a href='"+item.url +"'><div><span>CENTURY 21 " + item.value +  "</span> (" + item.municipio + ", " + item.estado + ")</div></a></div></li>" );
				});
				$.each( items.asesores, function( index, item ) {
					$('#asesores2').append( "<li class=''><div><a href='"+item.url +"'><div><span>" + item.value + "</span> CENTURY 21 " + item.oficina + "</div></a></div></li>" );
				});
				
				$( ".results a" ).click(function( event ) {
					event.preventDefault();
					$( "#hiddenSearch" ).val($(this).attr('href'));
					$( "#search" ).val($(this).text());
					window.location.href =$(this).attr('href');
				});
			}
			
		
	}

	
	$(document).ready(function(){
		var busquedaJMCTieneResultados=false;
		$.ajax({
			method:"GET",
			url: '/search///Resultados',
			dataType:'json'
		})
		.done(function( json ) {
		items=json;
		//if(items.length>0){
			busquedaJMCTieneResultados=true;
			renderItems2();
		//}

		});
		if(busquedaJMCTieneResultados){
			return;
		}

		/*
		if(q==""){q = $('#search').val();}
		q = q.replace(/_q_/g, '');
		
		*/
		$( '.searchclose').click(function() {
			$( "#results,.searchclose" ).hide();
			$("#search").val('');
		});
		
		$( '.searchbutton' ).click(function() {
			if($('#search').val()==''){
				 $('#search').attr("placeholder", "Escribe aqu\xED la direcci\xF3n, oficina o asesor que desees buscar!!!");
			}else{
				if(q!=""){q = $('#search').val();}
				q='_q_'+q;
				window.location.href = "/"+q;
			}
		});
		$('img.lazy').lazyload({
			effect : 'fadeIn',
			threshold : 200
		});
	});
	function busquedas(q='', startIndex=1){
		
		//https://www.googleapis.com/customsearch/v1?q=cancun&cx=013115034690704603644:keyhscxy2o8&key=AIzaSyCMGfdDaSfjqv5zYoS0mTJnOT3e9MURWkU
		//https://cse.google.com/?cx=013115034690704603644:keyhscxy2o8&q=cancun#gsc.tab=0&gsc.q=cancun&gsc.page=1
		var url = 'https://www.googleapis.com/customsearch/v1?'
				+'q='+q
				+'&start='+startIndex
				//+'&sort=document-tipo:inmueble'
				+'&cx=013115034690704603644:keyhscxy2o8'
				+'&key=AIzaSyCMGfdDaSfjqv5zYoS0mTJnOT3e9MURWkU';
		$.ajax({
			type:"GET",
			async: true,
			url: url,
			crossDomain:true,
			dataType:'jsonp'
		})
		.done(function( data ) {
			if(typeof(data.items)!='undefined'){
				for(i=0; i<data.items.length; i++){
					if(typeof(data.items[i].pagemap)!='undefined'){
						if(typeof(data.items[i].pagemap.metatags)!='undefined' && Object.keys(data.items[i].pagemap.metatags[0]).length>8){
							if(typeof(data.items[i].pagemap.metatags[0].tipo)!='undefined' && (typeof(data.items[i].pagemap.metatags[0].clave)!='undefined')){
								var pagemap = data.items[i].pagemap.metatags[0];
								if(pagemap.tipo=='franquicia') {
									//http://www.C21Com.com/oficina/Estado+De+M%C3%A9xico/Cuautitl%C3%A1n+Izcalli/Cuautitl%C3%A1n+Izcalli+Centro+Urbano/243_CENTURY+21+C%C3%ADrculo
									pagemap.url = "./oficina/"+pagemap.estado.replace(/ /g,'-').replace('/','---')+
									"/"+pagemap.municipio.replace(/ /g,'-').replace('/','---')+
										"/"+pagemap.colonia.replace(/ /g,'-').replace('/','---')+
										"/"+pagemap.numoficina+'_'+pagemap.oficina.replace(/ /g,'-').replace('/','---'); 
									num_franquicia=num_franquicia + 1;
									var datoEdo = pagemap.estado,
									datoMun = pagemap.municipio,
									datoCol = pagemap.colonia;
								
									var edoNew=0;
									$.each(temEdo, function(index, value){
										if(value['name']==datoEdo){
											value['cantidad']++;
											edoNew=1;
										}
									});
									var munNew=0;
									$.each(temMun, function(index, value){
										var op1 = value['name']==datoMun,
											op2 = value['filtrosEdo']==datoEdo.replace(/ /g, '_')
										if(op1 && op2){
											value['cantidad']++;
											munNew=1;
										}
									});
									var colNew=0;
									$.each(temCol, function(index, value){
										var op1 = value['filtrosCol']==datoCol.replace(/ /g, '_').replace('.', '�'),
											op2 = value['filtrosMun']==datoMun.replace(/ /g, '_').replace('/', '-'),
											op3 = value['filtrosEdo']==datoEdo.replace(/ /g, '_');
										if(op1 && op2 && op3){
											value['cantidad']++;
											colNew=1;
										}
									})
									
									
									if(edoNew==0){
										var objEdo = new Object();
										objEdo['name']=datoEdo;
										objEdo['cantidad']=1;
										objEdo['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objEdo['filtro']=0;
										temEdo[temEdo.length]= objEdo;
									}
									if(munNew==0){
										var objMun = new Object();
										objMun['name']=datoMun;
										objMun['cantidad']=1;
										objMun['filtrosMun']=datoMun.replace(/ /g, '_').replace('/', '-');
										objMun['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objMun['filtro']=0;
										temMun[temMun.length]= objMun;
									}
									if(colNew==0){
										var objCol = new Object();
										objCol['name']=datoCol;
										objCol['cantidad']=1;
										objCol['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objCol['filtrosMun']=datoMun.replace(/ /g, '_').replace('/', '-');
										objCol['filtrosCol']=datoCol.replace(/ /g, '_').replace('.', '�');
										objCol['filtro']=0;
										temCol[temCol.length]= objCol;
									}
									
									
									document.getElementById('franquicia').innerHTML =$('#franquicia').html()+ tmpl('franquicia-tmpl', data.items[i].pagemap.metatags);
									document.getElementById('filtroEdo').innerHTML = tmpl('filtroEdo-tmpl', temEdo);
									document.getElementById('filtroMun').innerHTML = tmpl('filtroMun-tmpl', temMun);
									document.getElementById('filtroCol').innerHTML = tmpl('filtroCol-tmpl', temCol);
								}else if(pagemap.tipo=='inmueble') {
									pagemap.url = "./"+pagemap.tipoinmueble.toLowerCase()+
									"/"+pagemap.tipooperacion.replace(/ /g,'-').toLowerCase()+
									"/"+pagemap.estado.replace(/ /g,'-').replace('/','---')+
						 			"/"+pagemap.municipio.replace(/ /g,'-').replace('/','---')+
						 			"/"+pagemap.colonia.replace(/ /g,'-').replace('/','---')+
						 			"/"+pagemap.numoficina+'_'+pagemap.oficina.replace(/ /g,'-').replace('/','---');
									num_inmueble=num_inmueble+1;
									
									var datoEdo = pagemap.estado,
										datoMun = pagemap.municipio,
										datoCol = pagemap.colonia;
									
									var edoNew=0;
									$.each(temEdo, function(index, value){
										if(value['name']==datoEdo){
											value['cantidad']++;
											edoNew=1;
										}
									});
									var munNew=0;
									$.each(temMun, function(index, value){
										var op1 = value['name']==datoMun,
											op2 = value['filtrosEdo']==datoEdo.replace(/ /g, '_')
										if(op1 && op2){
											value['cantidad']++;
											munNew=1;
										}
									});
									var colNew=0;
									$.each(temCol, function(index, value){
										var op1 = value['filtrosCol']==datoCol.replace(/ /g, '_').replace('.', '�'),
											op2 = value['filtrosMun']==datoMun.replace(/ /g, '_').replace('/', '-'),
											op3 = value['filtrosEdo']==datoEdo.replace(/ /g, '_');
										if(op1 && op2 && op3){
											value['cantidad']++;
											colNew=1;
										}
									})

									
									if(edoNew==0){
										var objEdo = new Object();
										objEdo['name']=datoEdo;
										objEdo['cantidad']=1;
										objEdo['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objEdo['filtro']=0;
										temEdo[temEdo.length]= objEdo;
									}
									if(munNew==0){
										var objMun = new Object();
										objMun['name']=datoMun;
										objMun['cantidad']=1;
										objMun['filtrosMun']=datoMun.replace(/ /g, '_').replace('/', '-');
										objMun['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objMun['filtro']=0;
										temMun[temMun.length]= objMun;
									}
									if(colNew==0){
										var objCol = new Object();
										objCol['name']=datoCol;
										objCol['cantidad']=1;
										objCol['filtrosEdo']=datoEdo.replace(/ /g, '_');
										objCol['filtrosMun']=datoMun.replace(/ /g, '_').replace('/', '-');
										objCol['filtrosCol']=datoCol.replace(/ /g, '_').replace('.', '�');
										objCol['filtro']=0;
										temCol[temCol.length]= objCol;
									}
									
									
									document.getElementById('inmueble').innerHTML =$('#inmueble').html()+ tmpl('inmueble-tmpl', data.items[i]);
									document.getElementById('filtroEdo').innerHTML = tmpl('filtroEdo-tmpl', temEdo);
									document.getElementById('filtroMun').innerHTML = tmpl('filtroMun-tmpl', temMun);
									document.getElementById('filtroCol').innerHTML = tmpl('filtroCol-tmpl', temCol);
									
								}else{
									if(typeof(data.items[i].pagemap.person)!='undefined'){
										for(ii=0; ii<=data.items[i].pagemap.person.length; ii++){
											var resPer= data.items[i].pagemap.person[ii].name.search(q);
											if(resPer){
												num_asesor=num_asesor+1;
												document.getElementById('data').innerHTML =$('#inmueble').html()+ tmpl('otros-tmpl', data.items);
											}
										}
									}
								}
							}
							else{
								document.getElementById('link').innerHTML =$('#link').html()+ tmpl('link-tmpl', data.items[i]);
								num_link++;
							}
						}
						else{
							document.getElementById('link').innerHTML =$('#link').html()+ tmpl('link-tmpl', data.items[i]);
							num_link++;
						}
					}
					else{
						document.getElementById('link').innerHTML =$('#link').html()+ tmpl('link-tmpl', data.items[i]);
						num_link++;
					}
				}
				if(num_inmueble>0){
					$('.classFiltros').show("linear");
					$('#inmueble').show("linear");
				}
				if(num_franquicia>0){
					$('.classFiltros').show("linear");
					$('#franquicia').show("linear");
				}
				if(num_asesor>0){
					$('.classFiltros').show("linear");
					$('#asesor').show("linear");
				}
				if(num_link>0){
					$('#link').show("linear");
				}

				num_res = num_inmueble + num_franquicia + num_asesor + num_link;
				$("#conteo").html(" ( "+num_res+" ) ");
				if(typeof(data.queries.nextPage)!='undefined'){
					startIndex=startIndex+data.queries.nextPage[0].count;
					if(startIndex<=11 && num_res<20){
						busquedas(q, startIndex);
					}else{
						$('img.lazy').lazyload({
							effect : 'fadeIn',
							threshold : 300
						});
					}
				}else{
					$('img.lazy').lazyload({
						effect : 'fadeIn',
						threshold : 200
					});
				}
				
			}
			
		})
		.fail(function(e) {
			alert( 'error' );
		});
		
		
		
	}
	
</script>
<script id="filtroEdo-tmpl" type="text/x-tmpl">
	
		{% for (var i=0; i<o.length; i++) { %}
			<div class='row'>
				<div class='col-md-12'>
					<a class="filtroEstado nofiltra {%=o[i].filtrosEdo%} textnegro" href="#" onClick="filtrar(event, tipo='edo' , name='{%=o[i].filtrosEdo%}')">{%=o[i].name%}<spam>({%=o[i].cantidad%})</spam></a>
				</div>
			</div>
		{% } %}
	
</script>
<script id="filtroMun-tmpl" type="text/x-tmpl">
	
		{% for (var i=0; i<o.length; i++) { %}
			<div class='row'>
				<div class='col-md-12'>
					<a class="filtroMunicipio nofiltra {%=o[i].filtrosEdo%} {%=o[i].filtrosMun%} textnegro" href="#" onClick="filtrar(event, tipo='mun', name='{%=o[i].filtrosEdo%} {%=o[i].filtrosMun%}')">{%=o[i].name%}<spam>({%=o[i].cantidad%})</spam></a>
				</div>
			</div>
		{% } %}
	
</script>
<script id="filtroCol-tmpl" type="text/x-tmpl">
	
		{% for (var i=0; i<o.length; i++) { %}
			<div class='row'>
				<div class='col-md-12'>
					<a class="filtroColonia nofiltra {%=o[i].filtrosEdo%} {%=o[i].filtrosMun%} {%=o[i].filtrosCol%} textnegro" href="#" onClick="filtrar(event, tipo='col' , name='{%=o[i].filtrosEdo%} {%=o[i].filtrosMun%} {%=o[i].filtrosCol%}')">{%=o[i].name%}<spam>({%=o[i].cantidad%})</spam></a>
				</div>
			</div>
		{% } %}
	
</script>
<script id="link-tmpl" type="text/x-tmpl">
	
			<div class="col-xs-12" style="margin: 10px 0px 10px 0px;">
				<a href="{%=o.link%}" class="btn btn-default btn-lg" role="button" style="border-radius: 0px; width: 100%; font-size: 87%">{%=o.title%}</a>
			</div>
	
</script>
<script id="inmueble-tmpl" type="text/x-tmpl">
	
			<div class="col-sm-6 col-md-4">
				<div class="thumbnail">
					<a href='{%=o.link%}'><span class='thumbLink'></span>
						<img style='height: 187.656px;width: 92%!important;'  class="lazy" data-original="{%=o.pagemap.metatags[0].src%}" alt="{%=o.pagemap.metatags[0].colonia%}, {%=o.pagemap.metatags[0].municipio%}, {%=o.pagemap.metatags[0].estado%} ">
					</a>
					<div class="caption">
						<div style='height: 73px; overflow: hidden;'>
							<div class='colonia' style='text-transform:uppercase;'>{%=o.pagemap.metatags[0].colonia%}</div>
							<div class='municipio'>{%=o.pagemap.metatags[0].municipio%}</div>
							<div class='estado' style='font-size:10px;'>{%=o.pagemap.metatags[0].estado%}</div>
						</div>
						<div style='height: 52px; overflow: hidden;'>
							<div class="precio text-right">${%=accounting.formatNumber(o.pagemap.metatags[0].precio) %}<div style='font-weight: 500;font-size: 12px;'>{%=o.pagemap.metatags[0].moneda%}</div></div>
						</div>
						<div class='basicos text-center'>
							<div class='row metros text-center'>
							</div>
							<div class='row'> 
								<div class="col-xs-4 col-sm-2" style="margin-right:12px;"><span class='strong'>{%=o.pagemap.metatags[0].mt %}</span><br><strong>m<sup>2</sup>T</strong></div>
								<div class="col-xs-4 col-sm-2"><span class='strong'>{%=o.pagemap.metatags[0].mc %}</span><br><strong>m<sup>2</sup>C</strong></div>
								<div class="col-sm-1"></div>
								<div class="col-xs-4 col-sm-1"><span class='strong recamara'>{%=o.pagemap.metatags[0].recamaras%}</span><img alt="" src="/img/c21arg/1.png"></div>
								<div class="col-xs-4 col-sm-1"><span class='strong banio'>{%=o.pagemap.metatags[0].banio%}</span><img alt="" src="/img/c21arg/2.png"></div>
								<div class="col-xs-4 col-sm-1"><span class='strong'>{%=o.pagemap.metatags[0].estacionamiento%}</span><img alt="" src="/img/c21arg/5.png"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
	
</script>
<script id="franquicia-tmpl" type="text/x-tmpl">
	
		{% for (var i=0; i<o.length; i++) { %}
			<div class="col-sm-6 col-md-4">
				<div class="thumbnail">
				<a href='{%=o.pagemap.metatags[0].url%}'><span class='thumbLink'></span>
					{% if( o.pagemap.metatags[0].photo!=''){ %}
					<div style='height:150px;width:100%;'>
					<img style='max-height: 150px;max-width: 80%!important;'  class="lazy" data-original="{%=o.pagemap.metatags[0].src%}" alt="{%=o.pagemap.metatags[0].oficina%}"></a>
					</div>
					{% } %}
					<div class="caption">
						<div style='height: 140px; overflow: hidden;'>
							<div class='calle' style='text-transform:uppercase;'>{%=o.pagemap.metatags[0].calle%}</div>
							<div class='colonia' style='font-size:12px'>{%=o.pagemap.metatags[0].colonia%}</div>
							<div class='municipio' style='font-size:11px;'>{%=o.pagemap.metatags[0].municipio%}</div>
							<div class='estado' style='font-size:10px;'>{%=o.pagemap.metatags[0].estado%}</div>
							<div class='telefono'>Tel:{%=o.pagemap.metatags[0].telefono%}</div>
							<div class='email'>{%=o.pagemap.metatags[0].email%}</div>
						</div>
						<div style='height: 52px; overflow: hidden;'>
							<div class="precio text-right">
								{%=o.pagemap.metatags[0].oficina%}
							</div>
						</div>
					</div>
				</div>
			</div>
		{% } %}
	
</script>
<script id="asesor-tmpl" type="text/x-tmpl">
	
		{% for (var i=0; i<o.length; i++) { %}
			<div class="col-sm-6 col-md-4">
				<div class="thumbnail">
				<a href='../oficina/{%=o.pagemap.metatags[0].numoficina%}'><span class='thumbLink'></span>
					{% if( o.pagemap.metatags[0].photo!=''){ %}
					<div style='height:150px;width:100%;'>
					<img style='max-height: 150px;max-width: 80%!important;'  class="lazy" data-original="{%=o.pagemap.metatags[0].photo%}" alt="{%=o.pagemap.metatags[0].photo%}"></a>
					</div>
					{% } %}
					<div class="caption">
						<div style='height: 63px; overflow: hidden;'>
							<div class='name' style='text-transform:uppercase;'>{%=o.pagemap.metatags[0].name%}</div>
						</div>
						<div style='height: 52px; overflow: hidden;'>
							<div class="precio text-right">
							</div>
						</div>
					</div>
				</div>
			</div>
		{% } %}
	
</script>
	</body>
</html>
